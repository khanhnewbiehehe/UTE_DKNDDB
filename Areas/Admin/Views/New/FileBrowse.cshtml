<title> Files Brower</title>
<style type="text/css">
    body {
        font-family: 'Segoe UI', Verdana, Arial, Helvetica, sans-serif;
        font-size: 80%;
    }

    #from {
        width: 600px;
    }

    #folderExplorer {
        float: left;
        width: 100px;
    }

    .thumbnail {
        float: left;
        margin: 3px;
        padding: 3px;
        border: 1px solid #dff0ff;
    }

    ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
    }

    li {
        padding: 0
    }
</style>


<script src="~/lib/ckeditor/ckeditor.js"></script>

<script type="text/javascript">
    $(document).ready(function () {
        var funcNum = @(Context.Request.Query["CKEditorFuncNum"]+ ";")
        $('#fileExplorer').on('click', 'img', function () {
            var fileUrl = '/Uploads/Posts/' + $(this).attr('title');
            window.opener.CKEDITOR.tools.callFunction(funcNum, fileUrl);
            window.close();
        }).hover(function () {
            $(this).css('cursor', 'pointer');
        });
    });
</script>

<body>
    <div id="fileExplorer">
        @foreach (var fileInfo in ViewBag.fileInfos)
        {
            <div class="thumbnail">
                <img src="~/Uploads/Posts/@fileInfo.Name" alt="thumb" title="@fileInfo.Name"
                     width="120" height="100" />
                @fileInfo.Name
            </div>
        }
    </div>
</body>
