@using QLDaoTao.Areas.Admin.Models;
@model UserVM;

@{
    ViewData["Title"] = "CREATE USER";
}

<div class="col-12 grid-margin">
    <div class="card">
        <div class="card-header bg-primary">
            <h4 class="box-title text-white mb-0">Thêm mới người dùng</h4>
        </div>
        <div class="card-body">
            <div asp-validation-summary="All" class="text-danger"></div>
            <form method="post" enctype="multipart/form-data">
                 <div class="row">
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label for="title" class="col-sm-3 control-label">Ảnh đại diện</label>
                            <div class="col-sm-9">
                                <div class="fileupload fileupload-new " data-provides="fileupload">
                                    <div class="fileupload-new thumbnail user-form-image">
                                        <div class="image-box">
                                            <input type="hidden" name="remove_img" id="remove_img">
                                            <img src="~/img/admin/default.jpg" alt="default" id="fontawesome_picture" />
                                        </div>
                                    </div>
                                    <div class="fileupload-preview fileupload-exists thumbnail posts"></div>
                                    <div class="custom-file">
                                        <span class="btn btn-file btn-primary ml-0">
                                            <span class="fileupload-new">Chọn</span>
                                            <span class="fileupload-exists">Thay đổi</span>
                                            <input type="file" name="IUrlAvatar" accept="image/x-png,image/jpeg" id="file_image" />

                                        </span>
                                        <a href="javascript:;" class="btn btn-danger fileupload-exists" data-dismiss="fileupload">Xóa</a>
                                    </div>
                                    <span class="upload_img_error error d-none">Tệp bạn chọn không đúng định dạng ảnh</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                @* <div class="form-group row">
                    <label class="col-md-3 label-control" style="text-align:right; margin-top:9px;" for="UrlImage">Ảnh đại diện</label>
                    <div class="col-md-9">
                        <div class="custom-file">
                            <input asp-for="IUrlAvatar" id="customFile" class="custom-file-input" type="file" multiple name="IUrlAvatar">
                            <label class="custom-file-label" for="customFile">Chọn 1 ảnh</label>

                        </div>
                        <span asp-validation-for="IUrlAvatar" class="text-danger"></span>
                    </div>
                </div> *@
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label asp-for="LastName" class="col-sm-3 col-form-label">@Html.DisplayNameFor(model => model.LastName)</label>
                            <div class="col-sm-9">
                                <input asp-for="LastName" class="form-control" />
                                <span asp-validation-for="LastName" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label asp-for="FirstName" class="col-sm-3 col-form-label">@Html.DisplayNameFor(model => model.FirstName)</label>
                            <div class="col-sm-9">
                                <input asp-for="FirstName" class="form-control" />
                                <span asp-validation-for="FirstName" class="text-danger"></span>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="row">
                    @* <div class="col-md-6">
                        <div class="form-group row">
                            <label asp-for="Role" class="col-sm-3 col-form-label">Vai trò</label>
                            <div class="col-sm-9">
                                <select class="form-control" name="Role">
                                    <option value="admin">Admin</option>
                                    <option value="teacher">Teacher</option>
                                    <option value="student">Student</option>
                                </select>
                            </div>
                        </div>
                    </div> *@
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label asp-for="DateOfBirth" class="col-sm-3 col-form-label">Ngày sinh</label>
                            <div class="col-sm-9">
                                <input asp-for="DateOfBirth" type="date" class="form-control" placeholder="dd/mm/yyyy" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label asp-for="Email" class="col-sm-3 col-form-label"></label>
                            <div class="col-sm-9">
                                <input asp-for="Email" class="form-control" />
                                <span asp-validation-for="Email" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label asp-for="Phone" class="col-sm-3 col-form-label"></label>
                            <div class="col-sm-9">
                                <input asp-for="Phone" class="form-control" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row ">
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label asp-for="Address" class="col-sm-3 col-form-label"></label>
                            <div class="col-sm-9">
                                <input asp-for="Address" class="form-control" />
                                <span asp-validation-for="Address" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label asp-for="Tel" class="col-sm-3 col-form-label"></label>
                            <div class="col-sm-9">
                                <input asp-for="Tel" class="form-control" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row ">
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label asp-for="Password" class="col-sm-3 col-form-label"></label>
                            <div class="col-sm-9">
                                <input type="password" asp-for="Password" class="form-control" id="password-field" />
                                <span asp-validation-for="Password" class="text-danger"></span>
                                <span toggle="#password-field" class="mdi mdi-eye field-icon toggle-password"></span>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="mt-4">
                    <button type="submit" class="btn btn-primary py-2 ">
                        <svg width="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M14.7379 2.76175H8.08493C6.00493 2.75375 4.29993 4.41175 4.25093 6.49075V17.2037C4.20493 19.3167 5.87993 21.0677 7.99293 21.1147C8.02393 21.1147 8.05393 21.1157 8.08493 21.1147H16.0739C18.1679 21.0297 19.8179 19.2997 19.8029 17.2037V8.03775L14.7379 2.76175Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                            <path d="M14.4751 2.75V5.659C14.4751 7.079 15.6231 8.23 17.0431 8.234H19.7981" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                            <path d="M14.2882 15.3584H8.88818" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                            <path d="M12.2432 11.606H8.88721" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                        Thêm mới
                    </button>
                    <a asp-action="Index" class="btn btn-secondary py-2">
                        <svg width="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4.25 12.2744L19.25 12.2744" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                            <path d="M10.2998 18.2988L4.2498 12.2748L10.2998 6.24976" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                        Quay lạị
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>
@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    <script>
        $(".toggle-password").click(function () {
            $(this).toggleClass("mdi-eye-off");
            var input = $($(this).attr("toggle"));
            if (input.attr("type") == "password") {
                input.attr("type", "text");
            } else {
                input.attr("type", "password");
            }
        });
        $("#fontawesome_picture").click(function () {
            $("input[id='file_image']").click();
        });
        $(".custom-file-input").on("change", function () {
            var fileName = $(this).val().split("\\").pop();
            $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
        });
    </script>
}
